{% extends "base.html" %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/sidenav.css') }}">
<script src="{{ url_for('static', filename='js/sortable_table.js') }}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function(){
        //sort by date twice so most recent at top
        sortTable(0,0);
        sortTable(0,0);
    });
</script>
{% endblock %}

{% block app_content %}
{% include "opponent/batter/batter_sidenav.html" %}
<div class="main">
    <h1>
        {{ batter.name() }} - Games
    </h1>
    <div>
        <table class="table sortable_table">
            <tr class="table-headers">
                <th>Date</th>
                <th>Opponent</th>
                <th>At Bats</th>
                <th>Pitches Seen</th>
                <th>View</th>
            </tr>
            {% for game in game_stats %}
                <tr>
                    <td>{{ game["game"].date }}</td>
                    <td>{{ game["game"].get_opponent() }}</td>
                    <td>{{ game["stats"]["ab"] }}</td>
                    <td>{{ game["stats"]["pitches"] }}</td>
                    <td><a href="{{ url_for('batter.batter_game_view', batter_id=batter.id, game_id=game['game'].id) }}">view</a></td>
                </tr>
            {% endfor %}
        </table>

    </div>
</div>
{% endblock %}