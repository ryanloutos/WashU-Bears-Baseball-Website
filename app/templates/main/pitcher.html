{% extends "base.html" %}

{% block app_content %}
<script src="{{ url_for('static', filename='js/sortable_table.js') }}"></script>
    <h1>
        {{ pitcher }}
    </h1>
    <div>
        <a href="">Edit Info</a> <br>
        <a href="">Delete User</a> <br>
        Username: {{ pitcher.username }} <br>
        Email: {{ pitcher.email }} <br>
        Grad Year: {{ pitcher.grad_year }} <br>
        Throws: {{ pitcher.throws }} <br>
    </div>
    <br>
    <h4>Outings</h4>
    <div>
        <table class='table sortable_table table-striped'>
            <tr>
                <th onclick="sortTable(0, 0)">Date</th>
                <th onclick="sortTable(1, 0)">Opponent</th>
                <th onclick="sortTable(2, 0)">Pitcher</th>
                <th>View</th>
            </tr>
            {% for o in pitcher.outings %}
            <tr>
                <td>{{ o.date }}</td>
                <td>{{ o.opponent }}</td>
                <td>{{ o.pitcher }}</td>
                <td><a href="{{ url_for('outing', id=o.id) }}">View Me</a></td>
            </tr>
            {% endfor %}
        </table> 
    </div>
    <div>
        <h4>Pitch Average Velo by Outing</h4>
        <table class="table sortable_table table-striped">
            <tr>
                <th onclick="sortTable(0, 1)">Date</th>
                <th onclick="sortTable(1, 1)">Opponent</th>
                <th onclick="sortTable(2, 1)">FB</th>
                <th onclick="sortTable(3, 1)">2SM</th>
                <th onclick="sortTable(4, 1)">SL</th>
                <th onclick="sortTable(5, 1)">CB</th>
                <th onclick="sortTable(6, 1)">CH</th>
                <th onclick="sortTable(7, 1)">CT</th>
            </tr>
            {% for outing in avg_pitch_velo_outing %}
                <tr>
                    <td>{{ outing["details"]["date"] }}</td>
                    <td>{{ outing["details"]["opponent"] }}</td>
                    <td>{{ outing["velos"]["FB"] }}</td>
                    <td>{{ outing["velos"]["SM"] }}</td>
                    <td>{{ outing["velos"]["SL"] }}</td>
                    <td>{{ outing["velos"]["CB"] }}</td>
                    <td>{{ outing["velos"]["CH"] }}</td>
                    <td>{{ outing["velos"]["CT"] }}</td>
                </tr>
            {% endfor%}
            <tr>
                <td>SEASON TOTALS</td>
                <td></td>
                <td>{{ avg_pitch_velo_season["FB"] }}</td>
                <td>{{ avg_pitch_velo_season["SM"] }}</td>
                <td>{{ avg_pitch_velo_season["SL"] }}</td>
                <td>{{ avg_pitch_velo_season["CB"] }}</td>
                <td>{{ avg_pitch_velo_season["CH"] }}</td>
                <td>{{ avg_pitch_velo_season["CT"] }}</td>
            </tr>
        </table>
    </div>
{% endblock %}